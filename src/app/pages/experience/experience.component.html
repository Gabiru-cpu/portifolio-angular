<div class="experience-container">

  <div class="header">
    <h2 class="title">{{ 'PROFESSIONALEXPERIENCE' | translate }}</h2>

    <button 
      *ngIf="isDesktop" 
      (click)="toggleOrientation()" 
      class="toggle-button"
    >
      <span class="icon">
        <span class="icon" 
          [innerHTML]="orientation === 'vertical' 
            ? '<i class=&quot;fas fa-angle-right&quot;></i>' 
            : '<i class=&quot;fas fa-angle-down&quot;></i>'">
        </span>
      </span>
      Mudar para {{ orientation === 'vertical' ? 'horizontal' : 'vertical' }}
    </button>
  </div>

  <div [ngClass]="orientation">
    <!-- Linha da timeline -->
    <div
      class="timeline-line"
      [ngStyle]="{
        'height.%': orientation === 'vertical' ? scrollProgress : null
      }"
    ></div>

    <!-- Itens da timeline -->
    <div
      class="timeline-item"
      *ngFor="let exp of experiences; let i = index"
      [style.opacity]="orientation === 'vertical' ? (i * 5 <= scrollProgress ? 1 : 0.5) : 1"
      [attr.data-aos]="orientation === 'vertical' ? 'fade-up' : null"
      [attr.data-aos-delay]="orientation === 'vertical' ? i * 100 : null"
    >
      <div class="timeline-point"></div>
      <div class="timeline-content">
        <h3>{{ exp.role | translate }}</h3>
        <p class="company">{{ exp.company | translate }}</p>
        <p class="summary">{{ exp.summary | translate }}</p>
        <ul *ngIf="exp.achievements?.length">
          <li *ngFor="let item of exp.achievements">{{ item | translate }}</li>
        </ul>
      </div>
    </div>
  </div>
</div>
